import{s as Kt,n as Dt,r as Qt,d as Xt}from"../chunks/scheduler.BLLGogQX.js";import{S as Yt,i as Zt,e as h,s as _,c as d,d as w,m as I,h as b,g as p,n as E,j as N,k as e,o as St,p as $t,b as O,q as Ft,f as P,l as U,r as te,u as Mt}from"../chunks/index.B_cdJbfY.js";function zt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Bt(n,t,a){const i=n.slice();return i[7]=t[a],i}function Vt(n){let t,a="이메일 정보",i,l,c,s,o="제목:",m,r=n[1].subject+"",C,x,S,j,g="보낸 사람:",R,T=n[1].from+"",k,v,L,z,It="받는 사람:",gt,Y=n[1].to+"",nt,Et,q,B,jt="참조:",xt,Z=n[1].cc+"",st,Tt,A,V,Ut="숨은 참조:",wt,$=n[1].bcc+"",ot,Rt,D,W,Gt="날짜:",yt,tt=n[1].date+"",at,kt,F,J,Ht="메시지 ID:",Nt,et=n[1].messageId+"",it,Ot,M,K,Lt="답장 대상:",Pt,lt=n[1].inReplyTo+"",rt,ft,H,qt="본문",ct,Q,X;function At(f,u){return f[1].contentType==="html"?le:ee}let ut=At(n),G=ut(n),y=n[1].attachments&&n[1].attachments.length>0&&Wt(n);return{c(){t=h("h2"),t.textContent=a,i=_(),l=h("div"),c=h("p"),s=h("strong"),s.textContent=o,m=_(),C=O(r),x=_(),S=h("p"),j=h("strong"),j.textContent=g,R=_(),k=O(T),v=_(),L=h("p"),z=h("strong"),z.textContent=It,gt=_(),nt=O(Y),Et=_(),q=h("p"),B=h("strong"),B.textContent=jt,xt=_(),st=O(Z),Tt=_(),A=h("p"),V=h("strong"),V.textContent=Ut,wt=_(),ot=O($),Rt=_(),D=h("p"),W=h("strong"),W.textContent=Gt,yt=_(),at=O(tt),kt=_(),F=h("p"),J=h("strong"),J.textContent=Ht,Nt=_(),it=O(et),Ot=_(),M=h("p"),K=h("strong"),K.textContent=Lt,Pt=_(),rt=O(lt),ft=_(),H=h("h3"),H.textContent=qt,ct=_(),G.c(),Q=_(),y&&y.c(),X=Ft(),this.h()},l(f){t=d(f,"H2",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-14j065l"&&(t.textContent=a),i=b(f),l=d(f,"DIV",{class:!0});var u=w(l);c=d(u,"P",{});var ht=w(c);s=d(ht,"STRONG",{"data-svelte-h":!0}),I(s)!=="svelte-10d15tz"&&(s.textContent=o),m=b(ht),C=P(ht,r),ht.forEach(p),x=b(u),S=d(u,"P",{});var dt=w(S);j=d(dt,"STRONG",{"data-svelte-h":!0}),I(j)!=="svelte-hkxiiq"&&(j.textContent=g),R=b(dt),k=P(dt,T),dt.forEach(p),v=b(u),L=d(u,"P",{});var pt=w(L);z=d(pt,"STRONG",{"data-svelte-h":!0}),I(z)!=="svelte-1swfm15"&&(z.textContent=It),gt=b(pt),nt=P(pt,Y),pt.forEach(p),Et=b(u),q=d(u,"P",{});var mt=w(q);B=d(mt,"STRONG",{"data-svelte-h":!0}),I(B)!=="svelte-81qems"&&(B.textContent=jt),xt=b(mt),st=P(mt,Z),mt.forEach(p),Tt=b(u),A=d(u,"P",{});var vt=w(A);V=d(vt,"STRONG",{"data-svelte-h":!0}),I(V)!=="svelte-1fiwwvq"&&(V.textContent=Ut),wt=b(vt),ot=P(vt,$),vt.forEach(p),Rt=b(u),D=d(u,"P",{});var _t=w(D);W=d(_t,"STRONG",{"data-svelte-h":!0}),I(W)!=="svelte-11lef1s"&&(W.textContent=Gt),yt=b(_t),at=P(_t,tt),_t.forEach(p),kt=b(u),F=d(u,"P",{});var bt=w(F);J=d(bt,"STRONG",{"data-svelte-h":!0}),I(J)!=="svelte-eu5jyd"&&(J.textContent=Ht),Nt=b(bt),it=P(bt,et),bt.forEach(p),Ot=b(u),M=d(u,"P",{});var Ct=w(M);K=d(Ct,"STRONG",{"data-svelte-h":!0}),I(K)!=="svelte-1wpmlll"&&(K.textContent=Lt),Pt=b(Ct),rt=P(Ct,lt),Ct.forEach(p),u.forEach(p),ft=b(f),H=d(f,"H3",{class:!0,"data-svelte-h":!0}),I(H)!=="svelte-vq9wvr"&&(H.textContent=qt),ct=b(f),G.l(f),Q=b(f),y&&y.l(f),X=Ft(),this.h()},h(){E(t,"class","text-xl font-semibold mb-2"),E(l,"class","grid grid-cols-2 gap-2 mb-4"),E(H,"class","text-lg font-semibold mb-2")},m(f,u){N(f,t,u),N(f,i,u),N(f,l,u),e(l,c),e(c,s),e(c,m),e(c,C),e(l,x),e(l,S),e(S,j),e(S,R),e(S,k),e(l,v),e(l,L),e(L,z),e(L,gt),e(L,nt),e(l,Et),e(l,q),e(q,B),e(q,xt),e(q,st),e(l,Tt),e(l,A),e(A,V),e(A,wt),e(A,ot),e(l,Rt),e(l,D),e(D,W),e(D,yt),e(D,at),e(l,kt),e(l,F),e(F,J),e(F,Nt),e(F,it),e(l,Ot),e(l,M),e(M,K),e(M,Pt),e(M,rt),N(f,ft,u),N(f,H,u),N(f,ct,u),G.m(f,u),N(f,Q,u),y&&y.m(f,u),N(f,X,u)},p(f,u){u&2&&r!==(r=f[1].subject+"")&&U(C,r),u&2&&T!==(T=f[1].from+"")&&U(k,T),u&2&&Y!==(Y=f[1].to+"")&&U(nt,Y),u&2&&Z!==(Z=f[1].cc+"")&&U(st,Z),u&2&&$!==($=f[1].bcc+"")&&U(ot,$),u&2&&tt!==(tt=f[1].date+"")&&U(at,tt),u&2&&et!==(et=f[1].messageId+"")&&U(it,et),u&2&&lt!==(lt=f[1].inReplyTo+"")&&U(rt,lt),ut===(ut=At(f))&&G?G.p(f,u):(G.d(1),G=ut(f),G&&(G.c(),G.m(Q.parentNode,Q))),f[1].attachments&&f[1].attachments.length>0?y?y.p(f,u):(y=Wt(f),y.c(),y.m(X.parentNode,X)):y&&(y.d(1),y=null)},d(f){f&&(p(t),p(i),p(l),p(ft),p(H),p(ct),p(Q),p(X)),G.d(f),y&&y.d(f)}}}function ee(n){let t,a=n[1].content+"",i;return{c(){t=h("pre"),i=O(a),this.h()},l(l){t=d(l,"PRE",{class:!0});var c=w(t);i=P(c,a),c.forEach(p),this.h()},h(){E(t,"class","border p-2 rounded whitespace-pre-wrap bg-transparent")},m(l,c){N(l,t,c),e(t,i)},p(l,c){c&2&&a!==(a=l[1].content+"")&&U(i,a)},d(l){l&&p(t)}}}function le(n){let t,a,i,l,c;return{c(){t=h("div"),a=h("iframe"),this.h()},l(s){t=d(s,"DIV",{class:!0});var o=w(t);a=d(o,"IFRAME",{srcdoc:!0,title:!0,class:!0,style:!0}),w(a).forEach(p),o.forEach(p),this.h()},h(){E(a,"srcdoc",i=n[1].content),E(a,"title","이메일 본문"),E(a,"class","w-full border-0"),Mt(a,"height",n[2]+"px"),E(t,"class","bg-white p-4 rounded")},m(s,o){N(s,t,o),e(t,a),l||(c=Xt(n[4].call(null,a)),l=!0)},p(s,o){o&2&&i!==(i=s[1].content)&&E(a,"srcdoc",i),o&4&&Mt(a,"height",s[2]+"px")},d(s){s&&p(t),l=!1,c()}}}function Wt(n){let t,a="첨부 파일",i,l,c=zt(n[1].attachments),s=[];for(let o=0;o<c.length;o+=1)s[o]=Jt(Bt(n,c,o));return{c(){t=h("h3"),t.textContent=a,i=_(),l=h("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=d(o,"H3",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-9vnymf"&&(t.textContent=a),i=b(o),l=d(o,"UL",{class:!0});var m=w(l);for(let r=0;r<s.length;r+=1)s[r].l(m);m.forEach(p),this.h()},h(){E(t,"class","text-lg font-semibold mt-4 mb-2"),E(l,"class","list-disc pl-5")},m(o,m){N(o,t,m),N(o,i,m),N(o,l,m);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(l,null)},p(o,m){if(m&2){c=zt(o[1].attachments);let r;for(r=0;r<c.length;r+=1){const C=Bt(o,c,r);s[r]?s[r].p(C,m):(s[r]=Jt(C),s[r].c(),s[r].m(l,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=c.length}},d(o){o&&(p(t),p(i),p(l)),te(s,o)}}}function Jt(n){let t,a=n[7].filename+"",i,l,c=n[7].contentType+"",s,o,m=n[7].size+"",r,C,x,S="다운로드",j,g,R;function T(){return n[6](n[7])}return{c(){t=h("li"),i=O(a),l=O(" ("),s=O(c),o=O(", "),r=O(m),C=O(` bytes)\r
						`),x=h("button"),x.textContent=S,j=_(),this.h()},l(k){t=d(k,"LI",{});var v=w(t);i=P(v,a),l=P(v," ("),s=P(v,c),o=P(v,", "),r=P(v,m),C=P(v,` bytes)\r
						`),x=d(v,"BUTTON",{class:!0,"data-svelte-h":!0}),I(x)!=="svelte-1a1csfd"&&(x.textContent=S),j=b(v),v.forEach(p),this.h()},h(){E(x,"class","ml-2 bg-green-500 text-white px-2 py-1 rounded text-sm")},m(k,v){N(k,t,v),e(t,i),e(t,l),e(t,s),e(t,o),e(t,r),e(t,C),e(t,x),e(t,j),g||(R=St(x,"click",T),g=!0)},p(k,v){n=k,v&2&&a!==(a=n[7].filename+"")&&U(i,a),v&2&&c!==(c=n[7].contentType+"")&&U(s,c),v&2&&m!==(m=n[7].size+"")&&U(r,m)},d(k){k&&p(t),g=!1,R()}}}function ne(n){let t,a,i="EML 파일 업로드 및 파싱",l,c,s,o,m,r,C="업로드 및 파싱",x,S,j,g=n[1]&&Vt(n);return{c(){t=h("main"),a=h("h1"),a.textContent=i,l=_(),c=h("div"),s=h("form"),o=h("input"),m=_(),r=h("button"),r.textContent=C,x=_(),g&&g.c(),this.h()},l(R){t=d(R,"MAIN",{class:!0});var T=w(t);a=d(T,"H1",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-17l7u5v"&&(a.textContent=i),l=b(T),c=d(T,"DIV",{class:!0});var k=w(c);s=d(k,"FORM",{class:!0});var v=w(s);o=d(v,"INPUT",{type:!0,accept:!0,class:!0}),m=b(v),r=d(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(r)!=="svelte-9fffi4"&&(r.textContent=C),v.forEach(p),k.forEach(p),x=b(T),g&&g.l(T),T.forEach(p),this.h()},h(){E(a,"class","text-2xl font-bold mb-4"),E(o,"type","file"),E(o,"accept",".eml"),E(o,"class","mr-2"),E(r,"type","submit"),E(r,"class","bg-blue-500 text-white px-4 py-2 rounded"),E(s,"class","flex items-center"),E(c,"class","mb-4"),E(t,"class","p-4")},m(R,T){N(R,t,T),e(t,a),e(t,l),e(t,c),e(c,s),e(s,o),e(s,m),e(s,r),e(t,x),g&&g.m(t,null),S||(j=[St(o,"change",n[5]),St(s,"submit",$t(n[3]))],S=!0)},p(R,[T]){R[1]?g?g.p(R,T):(g=Vt(R),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},i:Dt,o:Dt,d(R){R&&p(t),g&&g.d(),S=!1,Qt(j)}}}function se(n){const t=new Blob([Uint8Array.from(atob(n.content),l=>l.charCodeAt(0))],{type:n.contentType}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download=n.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}function oe(n,t,a){let i,l=null,c=300;async function s(){if(!i||i.length===0){alert("파일을 선택하세요.");return}const C=new FormData;C.append("emlFile",i[0]);const x=await fetch("/upload",{method:"POST",body:C});a(1,l=await x.json())}function o(C){C&&(C.onload=()=>{a(2,c=C.contentWindow.document.body.scrollHeight+20)})}function m(){i=this.files,a(0,i)}return[i,l,c,s,o,m,C=>se(C)]}class re extends Yt{constructor(t){super(),Zt(this,t,oe,ne,Kt,{})}}export{re as component};
